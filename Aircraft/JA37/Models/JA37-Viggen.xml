<?xml version="1.0"?>

<PropertyList include="ja37-bombable.xml">

 <path>ja37.ac</path>

 <!-- Multiplay sound -->
 <sound>
  <path>Aircraft/JA37/ja37-mp-sound.xml</path>
 </sound>


 <!--        Interior    -->
  <model>  
    <usage>interior</usage>
    <path>Aircraft/JA37/Models/ja37-interior.xml</path>
  </model>

  <model>
    <name>pilot</name>
    <path>Aircraft/JA37/Models/Cockpit/pilot/pilot.xml</path>
    <offsets>
      <x-m>-3.650</x-m>
      <y-m> 0.000</y-m>
      <z-m> 0.300</z-m>
    </offsets>
  </model>

  <animation><!-- move seat forward -->
   <type>translate</type>
   <object-name>seat</object-name>
   <factor>0.0</factor>
   <offset-m>-0.125</offset-m>
   <axis>
     <x>1</x>
   </axis>
   <center>
        <x-m>0</x-m>
        <y-m>0</y-m>
        <z-m>0</z-m>
    </center>
</animation>

  <!--<model>  a little too wide atm.
    <path>Aircraft/JA37/Models/Cockpit/seat/seat.xml</path>
    <offsets>
      <x-m>-3.2541</x-m>
      <y-m> 0.0000</y-m>
      <z-m> 0.2739</z-m>
    </offsets>
  </model>-->

  <!-- tutorial marker -->
  <model>
      <path>Models/Aircraft/marker.xml</path>
  </model>

<!-- Material shaders   -->
  <effect>
	  <inherits-from>Aircraft/JA37/Models/Effects/ja37-combined-shader</inherits-from>
	  <object-name>canopy</object-name>
	  <object-name>elevonLeftInner</object-name>
	  <object-name>elevonLeftOuter</object-name>
	  <object-name>elevonRightInner</object-name>
	  <object-name>elevonRightOuter</object-name>
	  <object-name>flaps</object-name>
	  <object-name>fuselage</object-name>
    <object-name>wingLeft</object-name>
    <object-name>wingRight</object-name>
	  <object-name>rudder</object-name>
	  <object-name>gearFrontBottom</object-name>
    <object-name>gearFrontHub</object-name>
    <object-name>gearFrontScissor</object-name>
    <object-name>gearFrontTop</object-name>
	  <object-name>gearFrontDoorsOpenLeft</object-name>
    <object-name>gearFrontDoorsOpenRight</object-name>
	  <object-name>gearFrontDoorsClosed</object-name>
	  <object-name>gearLeft</object-name>
    <object-name>gearLeftTop</object-name>
	  <object-name>gearLeftHinge</object-name>
	  <object-name>gearLeftDoorsOpen</object-name>
	  <object-name>gearLeftDoorsClosed</object-name>
	  <object-name>gearRight</object-name>
    <object-name>gearRightTop</object-name>
	  <object-name>gearRightHinge</object-name>
	  <object-name>gearRightDoorsOpen</object-name>
	  <object-name>gearRightDoorsClosed</object-name>
    <object-name>dropTank</object-name>
    <!--<object-name>dashPanel</object-name>
    <object-name>dashPanelTap</object-name>-->
  </effect>

  <effect>  
	  <inherits-from>Aircraft/JA37/Models/Effects/ja37-nozzle-combined</inherits-from>
	  <object-name>nozzle</object-name>
  </effect>

  <effect>  
    <inherits-from>Aircraft/JA37/Models/Effects/ja37-glass-combined</inherits-from>
    <object-name>glassInternal</object-name>
    <object-name>frontglasInternal</object-name>
  </effect>

  <effect>  
    <inherits-from>Aircraft/JA37/Models/Effects/frostAndRain/glass</inherits-from>
    <object-name>glass</object-name>
    <object-name>frontglas</object-name>
  </effect>

  <!--<animation>
  <type>select</type>
  <object-name>glass</object-name>
  <object-name>frontglas</object-name>
  <condition>
    <not>
      <property>sim/current-view/internal</property>
    </not>
  </condition>
 </animation>

 <animation>
  <type>select</type>
  <object-name>glassInternal</object-name>
  <object-name>frontglasInternal</object-name>
  <condition>
    <property>sim/current-view/internal</property>
  </condition>
 </animation>-->

<!-- Fuselage animations -->

  <model>
    <name>ext-power</name>
    <path>Aircraft/JA37/Models/ext-power.xml</path>
    <offsets>
      <x-m> 0.0</x-m>
      <y-m> 9.0</y-m>
      <z-m> 0.0</z-m>
    </offsets>
  </model>

  <animation>
     <type>translate</type>
     <object-name>ext-power</object-name>
     <property>fdm/jsbsim/systems/electrical/ext-power-z-m</property>
     <factor>1</factor>
     <axis>
       <z>1</z>
     </axis>
     <center>
          <x-m>0</x-m>
          <y-m>0.0</y-m>
          <z-m>0</z-m>
      </center>
  </animation>

  <animation>
  <type>select</type>
  <object-name>ext-power</object-name>
  <condition>
    <property>fdm/jsbsim/systems/electrical/external/available</property>
  </condition>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>glass</object-name>
  <object-name>glassInternal</object-name>
  <object-name>canopy</object-name>
  <property>canopy/position-norm</property><!-- auto MP transmit -->
  <factor>30.0</factor>
  <center>
   <x-m>-2.67098</x-m>
   <y-m>0.000003</y-m>
   <z-m>1.01043</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<animation>
  <type>select</type>
  <object-name>glass</object-name>
  <object-name>glassInternal</object-name>
  <object-name>canopy</object-name>
  <condition>
    <property>sim/multiplay/generic/int[1]</property><!-- fdm/jsbsim/fcs/canopy/hinges/serviceable -->
  </condition>
 </animation>


 <animation>
  <type>rotate</type>
  <object-name>radarHeading</object-name>
  <condition>   
    <greater-than>
    <property>systems/electrical/outputs/dc-voltage</property>
    <value>23</value>
   </greater-than>
  </condition>
  <property>orientation/heading-magnetic-deg</property>
  <factor>-1.0</factor>
  <center>
   <x-m>-3.98169</x-m>
   <y-m>0.00000</y-m>
   <z-m>0.34642</z-m>
  </center>
  <axis>
   <x>-1.0</x>
   <y>0.0</y>
   <z>-0.342020143325669</z>
  </axis>
 </animation>

 <animation>
  <type>material</type> 
  <object-name>radarHeading</object-name>
  <object-name>plaqueLeft</object-name>
  <object-name>plaqueRight</object-name>
  <object-name>hudRestPlaque</object-name>
  <emission>  
   <red-prop>instrumentation/instrumentation-light/r</red-prop> 
   <green-prop>instrumentation/instrumentation-light/g</green-prop> 
   <blue-prop>instrumentation/instrumentation-light/b</blue-prop>
   <factor-prop>controls/lighting/instruments-norm</factor-prop>
  </emission>
 </animation>

 <animation>
  <type>material</type> 
  <object-name>radarScreen</object-name>
  <emission>  
   <red>0.7</red> 
   <green>0.7</green> 
   <blue>0.7</blue>
   <factor-prop>systems/electrical/dc-light</factor-prop>
  </emission>
 </animation>

 <animation>
  <type>select</type>
  <condition>
    <property>sim/ja37/supported/hud</property>
  </condition>
  <object-name>hud</object-name>
  <object-name>hudStruts</object-name>
</animation>

<!-- Control surfaces -->

<animation>
  <type>rotate</type>
  <object-name>rudder</object-name>
  <property>surface-positions/rudder-pos-norm</property><!-- auto MP transmit -->
  <factor>25</factor>
  <axis>   
   <x2-m> 5.70491</x2-m>
   <y1-m> 0</y1-m>
   <z2-m> 3.04123</z2-m>
   <x1-m> 5.70220</x1-m>
   <y2-m> 0 </y2-m>
   <z1-m> 1.09636</z1-m>
  </axis>
 </animation>
 
<animation>
  <type>rotate</type>
  <object-name>elevonRightInner</object-name>
  <object-name>elevonRightOuter</object-name>
  <property>surface-positions/right-aileron-pos-norm</property><!-- auto MP transmit -->
  <factor>1.0</factor>
  <axis>   
   <x1-m> 5.84096 </x1-m>
   <y1-m> 0.99576 </y1-m>
   <z1-m> -0.31533 </z1-m>
   <x2-m> 5.84928 </x2-m>
   <y2-m> 5.10587 </y2-m>
   <z2-m> -0.39563 </z2-m>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>elevonLeftInner</object-name>
  <object-name>elevonLeftOuter</object-name>
  <property>surface-positions/left-aileron-pos-norm</property><!-- auto MP transmit -->
  <factor>1.0</factor>
  <axis>
   <x2-m> 5.84096 </x2-m>
   <y2-m> -0.99576 </y2-m>
   <z2-m> -0.31533 </z2-m>
   <x1-m> 5.84928 </x1-m>
   <y1-m> -5.10587 </y1-m>
   <z1-m> -0.39563 </z1-m>
  </axis>
 </animation>

<animation>
  <type>select</type>
  <object-name>elevonLeftInner</object-name>
  <object-name>elevonLeftOuter</object-name>
  <object-name>elevonRightInner</object-name>
  <object-name>elevonRightOuter</object-name>
  <object-name>gearRight</object-name>
  <object-name>gearRightHinge</object-name>
  <object-name>gearRightTop</object-name>
  <object-name>gearLeft</object-name>
  <object-name>gearLeftHinge</object-name>
  <object-name>gearLeftTop</object-name>
  <object-name>gearLeftDoorsOpen</object-name>
  <object-name>gearRightDoorsOpen</object-name>
  <object-name>gearLeftDoorsClosed</object-name>
  <object-name>gearRightDoorsClosed</object-name>
  <object-name>wheelRight1</object-name>
  <object-name>wheelRight2</object-name>
  <object-name>wheelLeft1</object-name>
  <object-name>wheelLeft2</object-name>
  <object-name>lightRight</object-name>
  <object-name>lightLeft</object-name>
  <object-name>wingRight</object-name>
  <object-name>wingLeft</object-name>
  <object-name>landingLightLeft</object-name>
  <object-name>landingLightRight</object-name>
  <object-name>missile</object-name>
  <object-name>missile1</object-name>
  <object-name>pod0</object-name>
  <object-name>pod1</object-name>
  <condition>
    <property>sim/multiplay/generic/int[2]</property><!-- fdm/jsbsim/fcs/wings/serviceable -->
  </condition>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>flaps</object-name>
  <property>surface-positions/flap-pos-norm</property><!-- auto MP transmit -->
  <factor>1.0</factor>
  <axis>   
   <x1-m> -0.25811 </x1-m>
   <y1-m> -2.59427 </y1-m>
   <z1-m> 0.12740 </z1-m>
   <x2-m> -0.25811 </x2-m>
   <y2-m> 2.59427 </y2-m>
   <z2-m> 0.12740 </z2-m>
  </axis>
 </animation>

<!-- Gears -->

<animation>
  <type>select</type>
  <condition>
   <equals>
    <property>gear/gear[0]/position-norm</property>
    <value>0.0</value>
   </equals>
  </condition>
  <object-name>gearFrontDoorsClosed</object-name>
 </animation>

 <animation>
  <type>select</type>
  <condition>
   <equals>
    <property>gear/gear[1]/position-norm</property>
    <value>0.0</value>
   </equals>
  </condition>
  <object-name>gearLeftDoorsClosed</object-name>
 </animation>

 <animation>
  <type>select</type>
  <condition>
   <equals>
    <property>gear/gear[2]/position-norm</property>
    <value>0.0</value>
   </equals>
  </condition>
  <object-name>gearRightDoorsClosed</object-name>
 </animation>

<animation>
  <type>select</type>
  <condition>
   <greater-than>
    <property>gear/gear[0]/position-norm</property>
    <value>0.0</value>
   </greater-than>
  </condition>
  <object-name>gearFrontDoorsOpenLeft</object-name>
  <object-name>gearFrontDoorsOpenRight</object-name>
  <!--<object-name>gearFront</object-name>
  <object-name>wheelFront</object-name>
  <object-name>landingLight</object-name>-->
  <object-name>frontLandingLightGlare</object-name>
 </animation>

<animation>
  <type>select</type>
  <condition>
   <greater-than>
    <property>gear/gear[1]/position-norm</property>
    <value>0.0</value>
   </greater-than>
  </condition>
  <object-name>gearLeft</object-name>
  <object-name>gearLeftHinge</object-name>
  <object-name>gearLeftTop</object-name>
  <object-name>wheelLeft1</object-name>
  <object-name>wheelLeft2</object-name>
  <object-name>landingLightLeft</object-name>
  <object-name>leftLandingLightGlare</object-name>
  <object-name>gearLeftDoorsOpen</object-name>
 </animation>

<animation>
  <type>select</type>
  <condition>
   <greater-than>
    <property>gear/gear[2]/position-norm</property>
    <value>0.0</value>
   </greater-than>
  </condition>
  <object-name>gearRight</object-name>
  <object-name>gearRightHinge</object-name>
  <object-name>gearRightTop</object-name>
  <object-name>wheelRight1</object-name>
  <object-name>wheelRight2</object-name>
  <object-name>landingLightRight</object-name>
  <object-name>rightLandingLightGlare</object-name>
  <object-name>gearRightDoorsOpen</object-name>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearFrontBottom</object-name>
  <object-name>gearFrontHub</object-name>
  <object-name>gearFrontScissor</object-name>
  <object-name>gearFrontTop</object-name>
  <object-name>wheelFront</object-name>
  <object-name>landingLight</object-name>
  <object-name>frontLandingLightGlare</object-name>
  <property>gear/gear[0]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 110.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>110</max-deg>
  <center>
   <x-m>-3.35848</x-m>
   <y-m>-0.000003</y-m>
   <z-m>-0.78153</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearFrontDoorsOpenLeft</object-name>
  <property>gear/gear[1]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 90.0</dep>
   </entry>
   <entry>
    <ind> 0.20</ind>
    <dep> 0.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>90</max-deg>
  <axis>   
   <x1-m> -4.98851</x1-m>
   <y1-m> -0.20881</y1-m>
   <z1-m>-0.78645</z1-m>
   <x2-m> -3.05037</x2-m>
   <y2-m>-0.22542</y2-m>
   <z2-m>-0.8066</z2-m>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearFrontDoorsOpenRight</object-name>
  <property>gear/gear[2]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 90.0</dep>
   </entry>
   <entry>
    <ind> 0.20</ind>
    <dep> 0.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>90</max-deg>
  <axis>   
   <x1-m> -3.05041</x1-m>
   <y1-m> 0.22836</y1-m>
   <z1-m>-0.80326</z1-m>
   <x2-m> -4.98856</x2-m>
   <y2-m>0.21209</y2-m>
   <z2-m>-0.78329</z2-m>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <condition>
    <property>sim/multiplay/generic/int[17]</property><!-- gear/gear[0]/wow -->
  </condition>
  <object-name>gearFrontBottom</object-name>
  <object-name>gearFrontHub</object-name>
  <object-name>gearFrontScissor</object-name>
  <object-name>gearFrontTop</object-name>
  <object-name>wheelFront</object-name>
  <object-name>landingLight</object-name>
  <object-name>frontLandingLightGlare</object-name>
  <property>sim/multiplay/generic/float[0]</property><!-- gear/gear[0]/steering-norm -->
  <factor>80</factor>
  <center>
   <x-m>-3.35848</x-m>
   <y-m>-0.000003</y-m>
   <z-m>-0.78153</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>0.0</y>
   <z>-1.0</z>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearLeft</object-name>
  <object-name>gearLeftTop</object-name>
  <object-name>wheelLeft1</object-name>
  <object-name>wheelLeft2</object-name>  
  <object-name>landingLightLeft</object-name>
  <object-name>leftLandingLightGlare</object-name>
  <property>gear/gear[1]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 90.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>90</max-deg>
  <center>
   <x-m>2.31352</x-m>
   <y-m>-2.25034</y-m>
   <z-m>-0.37244</z-m>
  </center>
  <axis>
   <x>1.0</x>
   <y>0.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearLeftDoorsOpen</object-name>
  <property>gear/gear[1]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 80.0</dep>
   </entry>
   <entry>
    <ind> 0.75</ind>
    <dep> 0.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>90</max-deg>
  <axis>   
   <x2-m> 3.105</x2-m>
   <y2-m> -2.45236</y2-m>
   <z2-m>-0.40247</z2-m>
   <x1-m> 2.41235</x1-m>
   <y1-m>-2.45238</y1-m>
   <z1-m>-0.40247</z1-m>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearRight</object-name>
  <object-name>gearRightTop</object-name>
  <object-name>wheelRight1</object-name>
  <object-name>wheelRight2</object-name>
  <object-name>landingLightRight</object-name>
  <object-name>rightLandingLightGlare</object-name>
  <property>gear/gear[2]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 90.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>90</max-deg>
  <center>
   <x-m>2.31352</x-m>
   <y-m>2.25035</y-m>
   <z-m>-0.37244</z-m>
  </center>
  <axis>
   <x>-1.0</x>
   <y>0.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearRightDoorsOpen</object-name>
  <property>gear/gear[2]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 80.0</dep>
   </entry>
   <entry>
    <ind> 0.75</ind>
    <dep> 0.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>90</max-deg>
  <axis>   
   <x1-m> 3.105</x1-m>
   <y1-m> 2.45236</y1-m>
   <z1-m>-0.40247</z1-m>
   <x2-m> 2.41235</x2-m>
   <y2-m>2.45238</y2-m>
   <z2-m>-0.40247</z2-m>
  </axis>
 </animation>

<animation><!--            compress front gear-->
   <type>translate</type>
   <object-name>gearFrontBottom</object-name>
   <object-name>gearFrontHub</object-name>
   <object-name>gearFrontScissor</object-name>
   <object-name>wheelFront</object-name>
   <object-name>tyre-smoke-nose</object-name>
   <property>sim/multiplay/generic/float[8]</property><!-- gear/gear/compression-ft -->
   <factor>0.3048</factor>
   <axis>
     <z>1</z>
   </axis>
   <center>
        <x-m>-3.37534</x-m>
        <y-m>0.0</y-m>
        <z-m>-1.84812</z-m>
    </center>
</animation>

<!-- spinning wheel calc

     radius = -1.59622 + 1.84812 = 0.2519
     circum = 2*pi*radius = 1.5827
     factor = 1/circum * 60 = 0.6318 * 60 = 37.9091

-3.38246
-0.11702
-1.84812

-3.38246
 0.17426
-1.84812
     -->
<animation>
    <type>spin</type>
    <object-name>wheelFront</object-name>
    <condition>
      <property>sim/multiplay/generic/int[17]</property><!-- gear/gear[0]/wow -->
    </condition>
    <property>gear/gear[0]/rollspeed-ms</property>
    <factor>37.9091</factor>
    <center>
        <x-m>-3.3694</x-m>
        <y-m>0.0</y-m>
        <z-m>-1.84812</z-m>
    </center>
    <axis>
        <x>0</x>
        <y>-1</y>
        <z>0</z>
    </axis>
</animation>

<animation><!--            compress left gear-->
   <type>translate</type>
   <object-name>gearLeft</object-name>
   <object-name>wheelLeft1</object-name>
   <object-name>wheelLeft2</object-name>
   <object-name>landingLightLeft</object-name>
   <object-name>leftLandingLightGlare</object-name>
   <object-name>tyre-smoke-left</object-name>
   <property>sim/multiplay/generic/float[9]</property><!-- gear/gear[1]/compression-ft -->
   <factor>0.3048</factor>
   <axis>
     <z>1</z>
   </axis>
   <center>
        <x-m> 2.64670 </x-m>
        <y-m> -2.33204 </y-m>
        <z-m> -2.1 </z-m>
    </center>
</animation>

<!-- spinning left wheel calc

     radius = -1.76576 - -2.07213 = 0.30637
     circum = 2*pi*radius = 1.9250
     factor = 1/circum * 60 = 0.6318 * 60 = 31.1692

1st:
1.91138 -2.36257 -1.76576
                 -2.07213
2nd:
2.7215 -2.36257 -1.7642

     -->
<animation>
    <type>spin</type>
    <object-name>wheelLeft1</object-name>
    <condition>
      <property>sim/multiplay/generic/int[18]</property><!-- gear/gear[1]/wow -->
    </condition>
    <property>gear/gear[1]/rollspeed-ms</property>
    <factor>31.1692</factor>
    <center>
        <x-m>1.91138</x-m>
        <y-m>-2.36257</y-m>
        <z-m>-1.76576</z-m>
    </center>
    <axis>
        <x>0</x>
        <y>-1</y>
        <z>0</z>
    </axis>
</animation>

<animation>
    <type>spin</type>
    <object-name>wheelLeft2</object-name>
    <condition>
      <property>sim/multiplay/generic/int[18]</property><!-- gear/gear[1]/wow -->
    </condition>
    <property>gear/gear[1]/rollspeed-ms</property>
    <factor>31.1692</factor>
    <center>
        <x-m>2.7215</x-m>
        <y-m>-2.36257</y-m>
        <z-m>-1.7642</z-m>
    </center>
    <axis>
        <x>0</x>
        <y>-1</y>
        <z>0</z>
    </axis>
</animation>

<animation><!--            compress right gear-->
   <type>translate</type>
   <object-name>gearRight</object-name>
   <object-name>wheelRight1</object-name>
   <object-name>wheelRight2</object-name>
   <object-name>landingLightRight</object-name>
   <object-name>rightLandingLightGlare</object-name>
   <object-name>tyre-smoke-right</object-name>
   <property>sim/multiplay/generic/float[10]</property><!-- gear/gear[2]/compression-ft -->
   <factor>0.3048</factor>
   <axis>
     <z>1</z>
   </axis>
   <center>
        <x-m> 2.64670 </x-m>
        <y-m> 2.33204 </y-m>
        <z-m> -2.1 </z-m>
    </center>
</animation>

<!-- spinning right wheel calc

     radius = -1.76576 - -2.07213 = 0.30637
     circum = 2*pi*radius = 1.9250
     factor = 1/circum * 60 = 0.6318 * 60 = 31.1692

1st:
1.91138 2.36257 -1.76576

2nd:
2.7215 2.36257 -1.7642

     -->
<animation>
    <type>spin</type>
    <object-name>wheelRight1</object-name>
    <condition>
      <property>sim/multiplay/generic/int[19]</property><!-- gear/gear[2]/wow -->
    </condition>
    <property>gear/gear[2]/rollspeed-ms</property>
    <factor>31.1692</factor>
    <center>
        <x-m>1.91138</x-m>
        <y-m>2.36257</y-m>
        <z-m>-1.76576</z-m>
    </center>
    <axis>
        <x>0</x>
        <y>-1</y>
        <z>0</z>
    </axis>
</animation>

<animation>
    <type>spin</type>
    <object-name>wheelRight2</object-name>
    <condition>
      <property>sim/multiplay/generic/int[19]</property><!-- gear/gear[2]/wow -->
    </condition>
    <property>gear/gear[2]/rollspeed-ms</property>
    <factor>31.1692</factor>
    <center>
        <x-m>2.7215</x-m>
        <y-m>2.36257</y-m>
        <z-m>-1.7642</z-m>
    </center>
    <axis>
        <x>0</x>
        <y>-1</y>
        <z>0</z>
    </axis>
</animation>

<!-- ==================================== Start effects ======================= -->


 <model>
  <name>explosion</name>
  <path>Aircraft/JA37/Models/Effects/explosion.xml</path>
  <offsets>
   <x-m>2.0</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>


 <!-- engine -->

 <model><!-- smoke trail after the plane -->
  <name>exhaust_smoke</name>
  <path>Aircraft/JA37/Models/Effects/engine/exhaust.xml</path>
  <offsets>
   <x-m>1.0</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

<model><!-- dark smoke at low rpm and afterburner -->
  <name>engine_smoke</name>
  <path>Aircraft/JA37/Models/Effects/engine/smoke.xml</path>
  <offsets>
   <x-m>7.0</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

<model>
  <name>InternalFlame</name>
  <path>Aircraft/JA37/Models/Effects/engine/InternalFlame.xml</path>
  <offsets>
   <x-m>0.0</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>
 
 
<model>
  <name>ExternalFlame</name>
  <path>Aircraft/JA37/Models/Effects/engine/ExternalFlame.xml</path>
  <offsets>
   <x-m>5.90</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>
 

<!--  other particle effects -->



 <!--<model>  never worked as intended, so commented out.
  <name>strake-vortex</name>
  <path>Aircraft/JA37/Models/Effects/strake-vortex.xml</path>
  <offsets>
   <x-m>0.58</x-m>
   <y-m>0</y-m>
   <z-m>0.25</z-m>
  </offsets>
 </model>-->

<model>
  <name>aerobatic_smoke_blue</name>
  <path>Aircraft/JA37/Models/Effects/smoke/smokeB.xml</path>
  <offsets>
   <x-m>8.0</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

<model>
  <name>aerobatic_smoke_yellow</name>
  <path>Aircraft/JA37/Models/Effects/smoke/smokeY.xml</path>
  <offsets>
   <x-m>8.0</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

<model>
  <name>wingtip-condensation-trail-left</name>
  <path>Aircraft/JA37/Models/Effects/wingtip-vapour.xml</path>
  <offsets>
   <x-m>5.82588</x-m>
   <y-m>-5.11376</y-m>
   <z-m>-0.39589</z-m>
  </offsets>
 </model>

<model>
  <name>wingtip-condensation-trail-right</name>
  <path>Aircraft/JA37/Models/Effects/wingtip-vapour.xml</path>
  <offsets>
   <x-m>5.82588</x-m>
   <y-m>5.11376</y-m>
   <z-m>-0.39589</z-m>
  </offsets>
 </model>

<!--         transsonic-vapor-cones               -->

<!-- <model>
  <name>transsonic-canard-vapor-cone</name>
  <path>Aircraft/JA37/Models/Effects/transsonic-canard-vapor-cone.xml</path>
  <offsets>
   <x-m>0</x-m>
   <y-m>0</y-m>
   <z-m>0.50</z-m>
  </offsets>
 </model>-->
 
  <!--<model>
  <name>transsonic-deltawing-vapor-cone</name>
  <path>Aircraft/JA37/Models/Effects/transsonic-deltawing-vapor-cone.xml</path>
  <offsets>
   <x-m>-2</x-m>
   <y-m>0</y-m>
   <z-m>0.25</z-m>
  </offsets>
 </model> -->

<model>
    <path>Aircraft/JA37/Models/Effects/vaporCone.xml</path>
    <name>VaporCone</name>
    <offsets>
      <x-m>0</x-m>
      <y-m>0.0</y-m>
      <z-m>0</z-m>
    </offsets>
  </model>

<!--         tyresmoke               -->

<model>
  <path>Aircraft/Generic/Effects/tyre-smoke-nose.xml</path>
  <name>tyre-smoke-nose</name>
  <offsets>
    <x-m> -3.65342 </x-m>
    <y-m> 0 </y-m>
    <z-m> -2.1 </z-m>
  </offsets>
</model>

<model>
 <path>Aircraft/Generic/Effects/tyre-smoke-port.xml</path>
 <name>tyre-smoke-left</name>
 <offsets>
  <x-m> 2.64670 </x-m>
  <y-m> -2.33204 </y-m>
  <z-m> -2.1 </z-m>
 </offsets>
</model>

<model>
 <path>Aircraft/Generic/Effects/tyre-smoke-stbd.xml</path>
 <name>tyre-smoke-right</name>
 <offsets>
   <x-m> 2.64670 </x-m>
   <y-m> 2.33204 </y-m>
   <z-m> -2.1 </z-m>
 </offsets>
</model>

 <!-- end effects -->


<!-- ===================== START LIGHTING =========================== -->

<!-- beacon lights -->

  <model>
    <path>Aircraft/JA37/Models/Effects/beacon-light-glow-top.xml</path>
    <name>lightglowT</name>
    <offsets>
      <x-m>0.0</x-m>
      <y-m>0.0</y-m>
      <z-m>0.0</z-m>
    </offsets>
  </model>

  <model>
    <path>Aircraft/JA37/Models/Effects/beacon-light-glow-bottom.xml</path>
    <name>lightglowB</name>
    <offsets>
      <x-m>0.0</x-m>
      <y-m>0.0</y-m>
      <z-m>0.0</z-m>
    </offsets>
  </model>

 <animation>
  <type>material</type>
  <object-name>lightTop</object-name>
  <condition>
    <property>sim/multiplay/generic/int[9]</property><!-- systems/electrical/lights-ext -->
  </condition>
  <emission>
   <red>1.0</red>
   <green>0.0</green>
   <blue>0.0</blue>
   <factor-prop>sim/multiplay/generic/float[1]</factor-prop><!-- sim/model/lighting/beacon/state -->
  </emission>
 </animation>

<animation>
  <type>material</type>
  <object-name>lightBottom</object-name>
  <condition>
    <property>sim/multiplay/generic/int[9]</property><!-- systems/electrical/lights-ext -->
  </condition>
  <emission>
   <red>1.0</red>
   <green>0.0</green>
   <blue>0.0</blue>
   <factor-prop>sim/multiplay/generic/float[1]</factor-prop><!-- sim/model/lighting/beacon/state -->
  </emission>
 </animation>

<!-- strobe light -->

 <model>
  <name>strobeFlash</name>
  <path>Aircraft/JA37/Models/Effects/strobe.xml</path>
  <condition>
    <property>sim/multiplay/generic/int[9]</property><!-- systems/electrical/lights-ext -->
  </condition>
  <offsets>
   <x-m>5.95508</x-m>
   <y-m>0.0</y-m>
   <z-m>3.42411</z-m>
  </offsets>
 </model>

<animation>
  <type>material</type>
  <object-name>strobe</object-name>
  <condition>
    <property>sim/multiplay/generic/int[9]</property><!-- systems/electrical/lights-ext -->
  </condition>
  <emission>
   <red>1.0</red>
   <green>1.0</green>
   <blue>1.0</blue>
   <factor-prop>sim/multiplay/generic/int[5]</factor-prop><!-- sim/model/lighting/strobe/state -->
  </emission>
 </animation>

<!-- landing light -->

<animation>
  <type>material</type>
  <object-name>landingLight</object-name>
  <object-name>landingLightLeft</object-name>
  <object-name>landingLightRight</object-name>
  <emission>
   <red>1.0</red>
   <green>1.0</green>
   <blue>1.0</blue>
   <factor-prop>sim/multiplay/generic/float[4]</factor-prop><!--  sim/ja37/effect/landing-light  -->
  </emission>
  <diffuse>
   <red>1.0</red>
   <green>1.0</green>
   <blue>1.0</blue>
   <factor-prop>sim/multiplay/generic/float[4]</factor-prop><!--  sim/ja37/effect/landing-light  -->
  </diffuse>
  <ambient>
   <red>1.0</red>
   <green>1.0</green>
   <blue>1.0</blue>
   <factor-prop>sim/multiplay/generic/float[4]</factor-prop><!--  sim/ja37/effect/landing-light  -->
  </ambient>
 </animation>

  <model>
    <path>Aircraft/JA37/Models/Effects/landingLight/landingLightGlare.xml</path>
    <name>frontLandingLightGlare</name>
    <offsets>
      <x-m>-3.47732</x-m>
      <y-m>-0.000005</y-m>
      <z-m>-1.3621</z-m>
    </offsets>
  </model>

  <model>
    <path>Aircraft/JA37/Models/Effects/landingLight/landingLightGlare.xml</path>
    <name>leftLandingLightGlare</name>
    <offsets>
      <x-m>2.19039</x-m>
      <y-m>-2.23114</y-m>
      <z-m>-1.08005</z-m>
    </offsets>
  </model>

  <model>
    <path>Aircraft/JA37/Models/Effects/landingLight/landingLightGlare.xml</path>
    <name>rightLandingLightGlare</name>
    <offsets>
      <x-m>2.20055</x-m>
      <y-m>2.24387</y-m>
      <z-m>-1.08005</z-m>
    </offsets>
  </model>

<!-- Navigation lights -->

  <model>
    <path>Aircraft/JA37/Models/Effects/nav-light-glow-right.xml</path>
    <name>lightglowR</name>
    <offsets>
      <x-m>0.0</x-m>
      <y-m>0.0</y-m>
      <z-m>0.0</z-m>
    </offsets>
  </model> 

 <model>
    <path>Aircraft/JA37/Models/Effects/nav-light-glow-left.xml</path>
    <name>lightglowL</name>
    <offsets>
      <x-m>0.0</x-m>
      <y-m>0.0</y-m>
      <z-m>0.0</z-m>
    </offsets>
  </model>

 <animation>
  <type>material</type>
  <object-name>lightLeft</object-name>
  <condition>
    <property>sim/multiplay/generic/int[9]</property><!-- systems/electrical/lights-ext -->
  </condition>
  <emission>
   <red>1.0</red>
   <green>0.0</green>
   <blue>0.0</blue>
  </emission>
 </animation>

 <animation>
  <type>material</type>
  <object-name>lightRight</object-name>
  <condition>
    <property>sim/multiplay/generic/int[9]</property><!-- systems/electrical/lights-ext -->
  </condition>
  <emission>
   <red>0.0</red>
   <green>1.0</green>
   <blue>0.0</blue>
  </emission>
 </animation>

<!-- ===================== start payload =========================== -->

<animation>
  <object-name>dropTank</object-name>
  <object-name>dropTankNoshader</object-name>
  <type>select</type>
  <condition>
   <equals>
    <property>sim/multiplay/generic/int[16]</property><!-- consumables/fuel/tank[8]/jettisoned -->
    <value>0</value>
   </equals>
  </condition>
 </animation>

<animation>
  <object-name>missile</object-name><!-- Left wing pylon -->
  <type>select</type>
  <condition>
   <equals>
    <property>sim/multiplay/generic/float[11]</property><!-- payload/weight[0]/weight-lb -->
    <value>188</value>
   </equals>
  </condition>
 </animation>

<animation>
  <object-name>missile2</object-name><!-- Left fuselage pylon -->
  <type>select</type>
  <condition>
   <equals>
    <property>sim/multiplay/generic/float[12]</property><!-- payload/weight[1]/weight-lb -->
    <value>188</value>
   </equals>
  </condition>
 </animation>

 <animation>
  <object-name>missile1</object-name><!-- Right wing pylon -->
  <type>select</type>
  <condition>
   <equals>
    <property>sim/multiplay/generic/float[13]</property><!-- payload/weight[2]/weight-lb -->
    <value>188</value>
   </equals>
  </condition>
 </animation>

 <animation>
  <object-name>missile3</object-name><!-- Right fuselage pylon -->
  <type>select</type>
  <condition>
   <equals>
    <property>sim/multiplay/generic/float[14]</property><!-- payload/weight[3]/weight-lb -->
    <value>188</value>
   </equals>
  </condition>
 </animation>

  <model><!-- Left wing pylon -->
    <path>Aircraft/JA37/Models/Armament/Weapons/M70/rocketPod.xml</path>
    <name>pod0</name>
    <offsets>
      <y-m> -2.75</y-m>
      <z-m> -1.50</z-m>
      <x-m>  2.20</x-m>
    </offsets>
  </model>

 <animation>
  <object-name>pod0</object-name>
  <type>select</type>
  <condition>
   <equals>
    <property>sim/multiplay/generic/float[11]</property><!-- payload/weight[0]/weight-lb -->
    <value>200</value>
   </equals>
  </condition>
 </animation>

  <model><!-- Left fuselage pylon -->
    <path>Aircraft/JA37/Models/Armament/Weapons/M70/rocketPod.xml</path>
    <name>pod2</name>
    <offsets>
      <y-m> -0.95</y-m>
      <z-m> -1.775</z-m>
      <x-m> -1.00</x-m>
    </offsets>
  </model>

 <animation>
  <object-name>pod2</object-name>
  <type>select</type>
  <condition>
   <equals>
    <property>sim/multiplay/generic/float[12]</property><!-- payload/weight[1]/weight-lb -->
    <value>200</value>
   </equals>
  </condition>
 </animation>

  <model><!-- Right wing pylon -->
    <path>Aircraft/JA37/Models/Armament/Weapons/M70/rocketPod.xml</path>
    <name>pod1</name>
    <offsets>
      <y-m>  2.75</y-m>
      <z-m> -1.50</z-m>
      <x-m>  2.20</x-m>
    </offsets>
  </model>

 <animation>
  <object-name>pod1</object-name>
  <type>select</type>
  <condition>
   <equals>
    <property>sim/multiplay/generic/float[13]</property><!-- payload/weight[2]/weight-lb -->
    <value>200</value>
   </equals>
  </condition>
 </animation>

   <model><!-- Right fuselage pylon -->
    <path>Aircraft/JA37/Models/Armament/Weapons/M70/rocketPod.xml</path>
    <name>pod3</name>
    <offsets>
      <y-m>  0.95</y-m>
      <z-m> -1.775</z-m>
      <x-m> -1.00</x-m>
    </offsets>
  </model>

 <animation>
  <object-name>pod3</object-name>
  <type>select</type>
  <condition>
   <equals>
    <property>sim/multiplay/generic/float[14]</property><!-- payload/weight[3]/weight-lb -->
    <value>200</value>
   </equals>
  </condition>
 </animation>

<animation>
  <type>range</type>
  <object-name>plaqueLeft</object-name>
  <object-name>plaqueRight</object-name>
  <object-name>sidepanelLeft</object-name>
  <object-name>sidepanelRight</object-name>
  <min-m>0</min-m>
  <max-m>15</max-m>
 </animation>

<!-- livery selection -->

<nasal>
  <load>
   var livery_update = aircraft.livery_update.new(
        "Aircraft/JA37/Models/Liveries", 10);
  </load>
  <unload>
   livery_update.stop();
  </unload>
 </nasal>

 <animation>
  <type>material</type>
  <object-name>canopy</object-name>
  <object-name>dropTank</object-name>
  <object-name>dropTankNoshader</object-name>
  <object-name>elevonLeftInner</object-name>
  <object-name>elevonLeftOuter</object-name>
  <object-name>elevonRightInner</object-name>
  <object-name>elevonRightOuter</object-name>
  <object-name>flaps</object-name>
  <object-name>fuselage</object-name>
  <object-name>wingLeft</object-name>
  <object-name>wingRight</object-name>
<!--  <object-name>missile</object-name>
  <object-name>missile1</object-name>
  <object-name>missile2</object-name>
  <object-name>missile3</object-name>-->
  <object-name>rudder</object-name>
  <!--<object-name>gearFront</object-name>
  <object-name>gearFrontHinge</object-name>-->
  <object-name>gearFrontDoorsOpenLeft</object-name>
  <object-name>gearFrontDoorsOpenRight</object-name>
  <object-name>gearFrontDoorsClosed</object-name>
  <!--<object-name>gearLeft</object-name>
  <object-name>gearLeftHinge</object-name>-->
  <object-name>gearLeftDoorsOpen</object-name>
  <object-name>gearLeftDoorsClosed</object-name>
  <!--  <object-name>wheelRight1</object-name>
  <object-name>wheelRight2</object-name>
  <object-name>wheelLeft1</object-name>
  <object-name>wheelLeft2</object-name>
  <object-name>gearRight</object-name>
  <object-name>gearRightHinge</object-name>-->
  <object-name>gearRightDoorsOpen</object-name>
  <object-name>gearRightDoorsClosed</object-name>
  <property-base>sim/model/livery</property-base>
  <texture-prop>texture</texture-prop>
  <texture>Aircraft/JA37/Models/j37_texture.png</texture>
 </animation>


 <!--<animation>
  <type>material</type>
  <object-name>glass</object-name>
  <object-name>frontglas</object-name>
  <condition>
    <greater-than>
      <property>/sim/rendering/shaders/model</property>
      <value>0</value>
    </greater-than>
  </condition>
  <shininess>96</shininess>
</animation>-->

</PropertyList>
