<?xml version="1.0"?>


<!-- **********************************************************************
        AERODYNAMICS OF JA-37

        Page references are given to pdf: http://hdl.handle.net/2060/19860019453

        Plan: Low speed Aerodynamics from NASA document above
              High speed aerodynamics from DATCOM and Australian document

        Missing: Proper high-speed aerodynamics
                 
     **********************************************************************
-->


<aerodynamics>      
  
  
<!-- ***********************************************************************************
                                                                 NORMAL
     *********************************************************************************** -->


    <!-- from graph 48a page 64 -->
    <function name="aero/function/ground-effect-factor-normal">
       <description>Change in lift due to ground effect factor</description>
       <product>
          <table>
             <independentVar lookup="row">aero/h_b-mac-ft</independentVar>
             <independentVar lookup="column">aero/alpha-deg</independentVar>
             <tableData>
                     0.0   15.0
                0.0  1.0   1.65
                2.2  1.0   1.0
             </tableData>
          </table>
       </product>
    </function>

    <function name="aero/function/elevator-pos-deg-inv">
       <description>Opposite of flightgears definition</description>
       <product>
          <property>fcs/elevator-pos-deg</property>
          <value>-1.0</value>
       </product>
    </function>


  <axis name="NORMAL">

     
     <function name="aero/coefficient/CN">
        <description>
           Normal force due to alpha, elevator and gear/flaps
           Increase in CN decreases Period and damping, Dutch Roll damping
           CN is low for landing
        </description>
        <product>
           <property>aero/function/ground-effect-factor-normal</property>
           <property>aero/function/mach-effect-prefactor</property>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <sum>
              <table><!-- ground effect on elevator change CN, page 80 fig 63 -->
                <independentVar lookup="row">aero/h_b-mac-ft</independentVar>
                <independentVar lookup="column">fcs/elevator-pos-deg</independentVar>
                <tableData>
                              -15.0  -10.0    -5.0     0.0
                      0.0    -0.175  -0.2     -0.1     0.0
                      0.209   0.0     0.0      0.0     0.0  
                </tableData>
             </table>
             <table><!-- gear and flaps change CN -->
                <independentVar lookup="row">aero/alpha-deg</independentVar>
                <independentVar lookup="column">fcs/flap-pos-norm</independentVar>
                <tableData><!-- from graph 31c page 46 -->
                             0.0    1.0          
                       0.0   0.0    0.05   
                      25.0   0.0    0.05       
                      40.0   0.0   -0.15      
                      50.0   0.0    0.0         
                </tableData>
             </table>
             <table>
                <independentVar lookup="row">aero/alpha-deg</independentVar>
                <independentVar lookup="column">aero/function/elevator-pos-deg-inv</independentVar><!-- opposite as flightgears definition, even though rest of document uses same definition. -->
                <tableData><!-- [measured using graph analyser] --><!-- from graph 31a page 46 -->
                              -20.0   0.0    20.0
                       -20.0 -1.232 -1.178 -1.036
                         0.0 -0.300  0.035  0.184 <!-- CN at zero alpha taken from page 79 fig 61a -->
                        10.0  0.166  0.589  0.794
                        20.0  1.255  1.433  0.773
                        26.0  1.192  1.682  1.817
                        30.3  1.466  1.893  2.008
                        35.6  1.733  2.025  2.206
                        38.6  1.795  2.063  2.222
                        40.5  1.827  2.063  2.205
                        45.3  1.864  1.951  2.066
                        49.8  1.798  1.604  1.715
                        51.1  1.590  1.694  1.781
                        55.2  1.589  1.700  1.784
                        60.2  1.620  1.731  1.787
                        66.9  1.658  1.769  1.793
                        72.6  1.692  1.797  1.797
                        76.9  1.702  1.796  1.796
                </tableData>
             </table>
            </sum>           
        </product>
     </function>
  </axis>




<!-- ***********************************************************************************
                                                             AXIAL
     *********************************************************************************** -->


<!-- from DATCOM -->
  <function name="aero/function/ground-effect-factor-drag">
     <description>Change in drag due to ground effect</description>
     <product>
        <table>
           <independentVar lookup="row">aero/h_b-mac-ft</independentVar>
           <tableData>
              0.0  0.480
              0.1  0.515
              0.15 0.629
              0.2  0.709
              0.3  0.815
              0.4  0.882
              0.5  0.928
              0.6  0.962
              0.7  0.988
              0.8  1.0
              0.9  1.0
              1.0  1.0
              1.1  1.0
           </tableData>
        </table>
     </product>
  </function>

  <function name="aero/function/mach-effect-prefactor">
     <description>Change in force due to mach effect</description>
     <sum>
      <product>
        <table>
          <independentVar lookup="row">velocities/mach</independentVar>
          <independentVar lookup="column">atmosphere/density-altitude</independentVar>
          <tableData><!--  1.25           2.2   mach, aug, main fuel only   -->
                            0.0       36000.0
                  0.8100    0.0           0.0
                  1.1000    0.1955        0.111
                  1.8000    0.127075      0.07215
          </tableData>
        </table>
        <property>aero/factor-axial-mach</property><!-- is property so it was easy to adjust when flying -->
      </product>
      <value>1.0</value>
    </sum>
  </function>

  <!-- from graph page 18, Australian document (heavily modified) not using this anymore, the above is better-->
  <!--<function name="aero/function/mach-effect-factor-drag">
     <description>Change in drag due to mach effect</description>
     <sum>
      <product>
        <table>
          <independentVar>velocities/mach</independentVar>
          <tableData>
                  0.0000  0
                  0.8200  0
                  0.8800  0.011
                  0.9500  0.066
                  1.0000  0.128
                  1.1100  0.684
                  2.1000  0.025
                  2.2000  8
          </tableData>
        </table>
        <property>aero/mach-drag-factor</property>--><!-- is property so it was easy to adjust when flying -->
      <!--</product>
      <value>1</value>
    </sum>
  </function>-->

  <function name="aero/function/CAgear">
      <description>Axial_due_to_gear</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>gear/gear-pos-norm</property>
          <table>
              <independentVar lookup="row">aero/alpha-deg</independentVar>
              <tableData>
             -180  -0.020
             -135   0
              -45   0
                0   0.020
               45   0
              135   0
              180  -0.020
              </tableData>
          </table>
      </product>
  </function>

  <function name="aero/function/CAflaps">
      <description>Axial due to flaps</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>fcs/flap-pos-norm</property>
          <table>
              <independentVar lookup="row">aero/alpha-deg</independentVar>
              <tableData>
             -180  -0.025
              -90   0
                0   0.025
               90   0
              180  -0.025
              </tableData>
          </table>
      </product>
  </function>

  <function name="aero/function/Afactors">
    <description>Change in axial due to mach and ground effect</description>
    <product>
      <property>aero/function/ground-effect-factor-drag</property>
      <property>aero/function/mach-effect-prefactor</property>
    </product>
  </function>

  <axis name="AXIAL">
    <function name="aero/coefficient/CAtakeoff">
        <description>
          Axial force due to flaps and gear
        </description>
        <product>
          <property>aero/function/Afactors</property>
          <sum>
            <property>aero/function/CAgear</property>
            <property>aero/function/CAflaps</property>
          </sum>
        </product>
    </function>

    <function name="aero/coefficient/CACanopy">
        <description>
           Canopy axial Coefficient
        </description>
        <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/function/mach-effect-prefactor</property>
           <property>fcs/canopy-pos-norm</property>
           <table>
              <independentVar lookup="row">aero/alpha-deg</independentVar>
              <tableData>
                -180 -0.015
                 -90  0.000
                   0  0.025
                  90  0.000
                 180 -0.015
              </tableData>
           </table>
        </product>
     </function>

     <!-- from graph 29e page 43 [measured using graph analyser] (untrustworthy due to being be example from any plane, hence the factor) -->
     <function name="aero/coefficient/CA">
        <description>
           Basic Tangential/axial Coefficient
        </description>
        <product>
           <property>aero/function/Afactors</property>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <!-- designed to achieve 0.94 mach at sea-level mil thrust, as per the Swedish sources and pilot testimony. -->
           <property>aero/factor-axial</property>
           <table>
              <independentVar lookup="row">aero/alpha-deg</independentVar>
              <tableData>
                -3.233  0.029
                -1.541  0.035
                 0.151  0.039
                 1.842  0.042
                 3.531  0.042
                 5.217  0.037
                 6.900  0.027
                 8.581  0.013
                10.000  0.000
                11.943 -0.013
                13.626 -0.022
                15.312 -0.028
                16.999 -0.032
                18.687 -0.033
                20.375 -0.035
                22.064 -0.035
              </tableData>
           </table>
        </product>
     </function>
  </axis>




<!-- ***********************************************************************************
                                                                  SIDE
     *********************************************************************************** -->

<!-- [page 105, figure 86b not included]   -->

  <axis name="SIDE">

    <!-- from Component force graph 86a page 105 -->
    <function name="aero/coefficient/Cyb">
      <description>
         Side Force coefficient due to Sideslip
          Contributes to damping of Dutch Roll mode
      </description>
      <product>
         <property>aero/function/ground-effect-factor-drag</property>
         <property>aero/qbar-psf</property>
         <property>metrics/Sw-sqft</property>
         <property>aero/beta-rad</property>
         <value>-1.0</value><!-- Alant: -1 -->
         <table>
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <independentVar lookup="column">gear/gear-pos-norm</independentVar>
            <tableData><!-- [measured using graph analyser] -->
                               0.0           1.0
                -79.9634     0.644810      0.644810        
                -77.0113     0.643349      0.643349          
                -74.3731     0.652732      0.652732          
                -72.2024     0.666751      0.666751          
                -70.3434     0.683862      0.683862          
                -68.7975     0.708715      0.708715          
                -51.0473     1.08755       1.08755          
                -49.5008     1.11086       1.11086          
                -47.9516     1.12486       1.12486          
                -45.7790     1.13268       1.13268          
                -39.8766     1.13596       1.13596          
                -37.8561     1.13292       1.13292          
                -35.0583     1.12835       1.12835          
                -33.1913     1.11910       1.11910          
                -31.7889     1.10519       1.10519          
                -30.8520     1.08972       1.090        
                -23.8069     0.911634      1.063         
                -23.1817     0.899249      1.061         
                -21.9361     0.889985      1.056         
                -20.5351     0.880725      1.055         
                -18.6699     0.877681      1.045         
                1.37089     0.876738       0.992        
                9.29381     0.876978       0.951        
                12.0916     0.872412       0.931        
                14.4247     0.863180       0.913        
                16.7592     0.849297       0.891        
                18.3174     0.833841       0.875        
                19.5659     0.815274       0.857        
                24.8955     0.658844       0.732        
                25.9887     0.640272       0.691        
                27.0785     0.632553       0.647        
                28.4767     0.632595      0.632595          
                29.8725     0.640390      0.640390          
                31.4198     0.660592      0.660592          
                40.7031     0.784906      0.784906          
                41.7887     0.791141      0.791141          
                43.9636     0.791207      0.791207          
                45.2079     0.786593      0.786593          
                46.4549     0.772678      0.772678          
                51.1410     0.689098      0.689098          
                53.0170     0.650394      0.650394          
                54.4204     0.633382      0.633382          
                56.1325     0.622581      0.622581          
                58.3089     0.617996      0.617996          
                60.7950     0.616521      0.616521          
                64.0597     0.608868      0.608868          
                66.8589     0.599650      0.599650          
                69.6599     0.584231      0.584231          
                72.3061     0.567257      0.567257          
                74.3313     0.548714      0.548714          
                76.2012     0.530165      0.530165          
                77.9157     0.511612      0.511612          
                79.4763     0.488403      0.488403          
                80.7248     0.469836      0.469836          
                82.7543     0.437339      0.437339          
                84.9405     0.400196      0.400196          
                86.9729     0.358396      0.358396          
                88.6935     0.319688      0.319688          
                90.1026     0.284071      0.284071          
                91.2004     0.249996      0.249996          
                92.6108     0.209728      0.209728          
                93.7049     0.188055      0.188055          
                94.9539     0.167938      0.167938          
                96.3568     0.152476      0.152476          
                97.7587     0.140115      0.140115          
                99.4718     0.126214      0.126214          
                101.339     0.115417      0.115417          
                104.139     0.103099      0.103099          
                106.939     0.0938815     0.0938815          
                109.892     0.0893199     0.0893199          
                112.690     0.0816527     0.0816527          
                115.954     0.0786509     0.0786509          
                119.529     0.0710073     0.0710073          
                122.949     0.0633590     0.0633590          
                125.748     0.0541414     0.0541414          
                128.082     0.0449097     0.0449097          
                130.259     0.0356733     0.0356733          
                132.282     0.0248818     0.0248818          
                133.683     0.0156218     0.0156218          
                135.707     0.00172947    0.00172947                           
            </tableData>
         </table>
      </product>
    </function>

    <function name="aero/coefficient/CYb_M">
        <description>Change_in_Side_force_due_to_beta_due_to_mach</description>
        <product>
            <property>aero/qbar-psf</property>
            <property>metrics/Sw-sqft</property>
            <property>aero/beta-rad</property>
              <table>
                  <independentVar>velocities/mach</independentVar>
                  <tableData>
                      0.4000  0.0000
                      1.2000  0.0400
                      1.6000 -0.1400
                  </tableData>
              </table>
        </product>
    </function>

    <!-- from Component force graph 86a page 105 -->
    <function name="aero/coefficient/Cyzero">
      <description>
         Side Force coefficient due to assymetric detachment of fuselage vortices
      </description>
      <product>
         <property>aero/qbar-psf</property>
         <property>metrics/Sw-sqft</property>
         <value>-1.0</value><!-- Alant: -1 -->
         <table>
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <tableData><!-- [measured using graph analyser] -->
                41.0979     0.0000000
                42.3374     0.0097501
                44.1988     0.0191090
                46.5258     0.0300325
                48.8537     0.0378551
                50.7165     0.0425629
                52.8900     0.0472801
                55.3742     0.0520066
                58.4803     0.0552017
                61.8980     0.0553054
                64.5399     0.0522847
                67.9586     0.0492876
                70.9122     0.0431755
                74.4886     0.0324311
                78.0631     0.0278883
                80.8617     0.0202211
                83.6600     0.0141044
                85.9926     0.0064231
                87.8587     0.0000000
            </tableData>
         </table>
      </product>
    </function>

    <function name="aero/coefficient/CYdr">
        <description>Side_force_due_to_rudder</description>
        <product>
            <property>aero/qbar-psf</property>
            <property>metrics/Sw-sqft</property>
            <property>fcs/rudder-pos-rad</property>
            <value>0.0860</value>
        </product>
    </function>

    <function name="aero/coefficient/CYDa">
        <description>Side_force_due_to_aileron</description>
        <product>
            <property>aero/qbar-psf</property>
            <property>metrics/Sw-sqft</property>
            <property>fcs/left-aileron-pos-rad</property>
            <value>-0.0226</value>
        </product>
    </function>

  </axis>


<!-- ***********************************************************************************   
                                                               ROLL
     *********************************************************************************** -->


<!-- ADD:   missiles symmetric: 129, 105a -->

     <axis name="ROLL">

         <!-- from graph 103 on page 127 -->
         <function name="aero/coefficient/Clb">
            <description>
               Roll damp due to beta
            </description>
                <product>
                 <property>aero/qbar-psf</property>
                 <property>metrics/Sw-sqft</property>
                 <property>metrics/bw-ft</property>
                 <property>aero/beta-rad</property>
                 <table>
                    <independentVar lookup="row">aero/alpha-deg</independentVar>
                    <independentVar lookup="column">gear/gear-pos-norm</independentVar>
                    <tableData>
                                 0.0     1.0       
                        -20.0    0.14    0.14
                        -14.0    0.12    0.12
                        -10.0    0.09    0.09
                         -6.0    0.05    0.05
                          0.0   -0.025  -0.035
                         20.0   -0.245  -0.32
                         24.0   -0.26   -0.34
                         26.0   -0.25   -0.33
                         30.0   -0.215  -0.255
                         33.5   -0.15   -0.15
                         40.0   -0.025  -0.025
                         50.0   -0.11   -0.11  
                         55.0   -0.13   -0.13
                         60.0   -0.14   -0.14 
                    </tableData>
                 </table>
              </product>
         </function>

         <!-- from graph 104 page 128 -->
         <function name="aero/coefficient/Cltank">
            <description>
               Roll damp due to drop tank
            </description>
                <product>
                 <property>aero/qbar-psf</property>
                 <property>metrics/Sw-sqft</property>
                 <property>metrics/bw-ft</property>
                 <property>aero/beta-rad</property>
                 <table>
                    <independentVar lookup="row">aero/alpha-deg</independentVar>
                    <independentVar lookup="column">inertia/pointmass-weight-lbs[5]</independentVar>
                    <tableData>
                               0.0      400.0
                          0.0    0.0     -0.01
                          3.0    0.0     -0.01
                          9.0    0.0      0.0
                         15.0    0.0      0.0175
                         20.0    0.0      0.02
                         30.0    0.0      0.0225
                         35.0    0.0      0.03
                    </tableData>
                 </table>
              </product>
         </function>

      <!-- from graph 111a page 134 -->
      <function name="aero/coefficient/Clp">
        <description>
          Roll damp due to roll rate
        </description>
        <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-rad_sec</property>
           <table>
             <independentVar lookup="row">aero/alpha-deg</independentVar>
             <tableData>
                -40.0  -0.15    
                 -5.0  -0.275
                  0.0  -0.25
                  5.0  -0.275
                 50.0  -0.1
                 60.0  -0.2
                 70.0  -0.23
            </tableData>
           </table>
           <table>
             <independentVar lookup="row">velocities/mach</independentVar>
             <tableData>
                 0.8  1.0
                 2.0  1.65
            </tableData>            
          </table>
       </product>
    </function>

    <!-- from graph 115a page 137 -->
<!--    <function name="aero/coefficient/Clr"> this conflict with Clb, so commented out
       <description>
         Roll due to yaw rate
       </description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-rad_sec</property>
           <table>
             <independentVar lookup="row">aero/alpha-deg</independentVar>
             <tableData>
                -50   -0.4
                -47.5 -0.45
                  0.0    0.05
                 20    0.25
                 45    0.75
                 60    0.15
                 80    0
            </tableData>
          </table>
       </product>
    </function>-->

    <!-- from graph 115b page 137 -->
    <function name="aero/coefficient/Clbdot">
       <description>
        Roll due to beta dot rate
      </description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>aero/betadot-rad_sec</property>
           <table>
             <independentVar lookup="row">aero/alpha-deg</independentVar>
             <tableData>
                3.0    0.0
               15.0   -0.05
               20.0   -0.1
               27.5   -0.2
               40.0   -0.3
               55.0    0.0
            </tableData>
          </table>
       </product>
    </function>

    <!-- from graph 106 page 130 -->
    <function name="aero/coefficient/Clpylon">
       <description>
        Roll due to missile asymmetric loaded under wings
      </description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <table>
             <independentVar lookup="row">aero/alpha-deg</independentVar>
             <independentVar lookup="column">inertia/asymmetric-wing-load</independentVar>
             <tableData>
                       -1.0       0.0     1.0
                  0.0   0.0       0.0     0.0
                 20.0  -0.0033    0.0     0.0033
            </tableData>
          </table>
       </product>
    </function>

    <!-- from graph 108a page 131 -->
<!--    <function name="aero/coefficient/Claileronbeta"> this is already included in other coefficients
       <description>
        Roll due to beta and aileron
      </description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <table>
             <independentVar lookup="row">aero/beta-deg</independentVar>
             <independentVar lookup="column">fcs/left-aileron-pos-deg</independentVar>
             <tableData>
                        -10      -5      0.0      5       10
                -10    0.008   0.023   0.04   0.06    0.075
                 -5   -0.01    0.005   0.022  0.04    0.06
                  0.0   -0.033  -0.0175  0.0      0.0175  0.033
                  5   -0.06   -0.04   -0.022 -0.005   0.01
                 10   -0.075  -0.06   -0.04  -0.023  -0.008
            </tableData>
          </table>
       </product>
    </function>-->

    <!-- from graph 108b page 131 -->
    <function name="aero/coefficient/Claileron">
       <description>
        Roll due to aileron and elevator
      </description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <table>
             <independentVar lookup="row">aero/alpha-deg</independentVar>
             <independentVar lookup="column">fcs/elevator-pos-deg</independentVar>
             <tableData>
                          -25.0   0.0      20.0
                -50.0      0.01   0.1      0.1
                -40.0      0.03   0.12     0.11
                -30.0      0.07   0.17     0.13
                -20.0      0.07   0.2      0.135
                -10.0      0.07   0.22     0.14
                  0.0      0.07   0.215    0.13
                 10.0      0.07   0.21     0.11
                 20.0      0.1    0.2      0.1
                 30.0      0.12   0.18     0.07
                 40.0      0.12   0.13     0.055
                 50.0      0.12   0.065    0.035
                 60.0      0.12   0.05     0.025
                 70.0      0.12   0.045    0.02
                 90.0      0.12   0.03     0.02
            </tableData>
          </table>
       </product>
    </function>
  </axis>




<!-- ***********************************************************************************
                                                                  PITCH
     *********************************************************************************** -->


     <!-- from graph page 66  -->
    <function name="aero/function/air-intake-factor-CA">
       <description>
            Air intake factor
       </description>
       <product>
          <table>
             <independentVar lookup="row">velocities/mach</independentVar>
             <independentVar lookup="column">propulsion/engine/n1</independentVar>
             <tableData>
                     80.0    100.0
               0.17   3.0     3.0
               0.20   2.0     2.5
               0.25   1.5     2.0
               0.30   1.25    1.7
               0.35   1.1     1.45
               0.40   1.0     1.3
             </tableData>
          </table>
       </product>
    </function>


    <axis name="PITCH">

      <!-- page 67 fig51b - CmCA -->
      <function name="aero/coefficient/Cm-due-to-CA">
        <description>
              Pitch due to Air intake factor
        </description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <table><!-- CmCA: Cm due to Air intake factor. -->
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <independentVar lookup="column">aero/function/air-intake-factor-CA</independentVar>
            <tableData>
                       1.0      3.0
                 0.0   0.0      0.0
                30.0   0.0      0.02
            </tableData>
          </table>
        </product>
      </function>
      
      <!-- page 74 - zero moment numbers -->
      <function name="aero/coefficient/Cm-due-to-Zero-moment">
        <description>
              Pitch due to Zero moment
        </description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <table><!-- Zero moment: Cm part that is independent of alpha. -->
            <independentVar lookup="row">gear/gear-pos-norm</independentVar>
            <tableData>
               0.0 -0.006
               1.0  0.036
            </tableData>
          </table>
        </product>
      </function>

      <!-- graph 48b page 64 - gear and flaps, with and without groundeffect -->
      <function name="aero/coefficient/Cm-due-to-ground-effect">
        <description>
              Pitch due to ground effect
        </description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <table>
             <independentVar lookup="row">aero/alpha-deg</independentVar>
             <independentVar lookup="column">aero/h_b-mac-ft</independentVar>
             <tableData><!-- At h_b-mac-ft 1.8 the effect can be felt according to Saab. Thats 105 feet. Therefore choose 2.2 for no effect. -->
                       0.0   2.2
              -10.0    0.03   0.0
               -2.0    0.005  0.0
                0.0    0.0    0.0
                5.0   -0.04   0.0
               10.0   -0.07   0.0
               15.0   -0.1    0.0
             </tableData>
          </table>
        </product>
      </function>
            
      <!-- from graph:
       graph 29b page 43 - low alpha range. Due to translation error, is general aircrafts. Not JA-37. Don't use.
       graph 46 page 61 - gear up, unloaded, detailed, not final
       page 62 - gear up, unloaded, full range, final
       graph 51a page 67 - detailed Cm around zero alpha-->
      <function name="aero/coefficient/Cm">
        <description>
           Pitch moment due to alpha
        </description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <table><!-- Cma: Cm due to alpha. -->
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <independentVar lookup="column">gear/gear-pos-norm</independentVar>
            <tableData>
                            0.0        1.0
                  <!--   page 61 - extrapolated -->
                -10.0      0.03     0.07
                  <!--   page 67 - page 64 minus zero moment 0.036 -->
                  0.0      0.01     0.0015
                  <!--   page 62 - page 64 minus zero moment 0.036 -->
                  3.0     -0.02    -0.0085
                  8.0     -0.03    -0.016
                 11.5     -0.035   -0.021
                 17.0     -0.055   -0.036           
                 22.5     -0.07    -0.061            
                 <!--     page 62 - no gear data --> 
                22.686835  -0.070990   -0.070990
                23.508849  -0.073496   -0.073496
                24.331206  -0.075168   -0.075168
                25.236381  -0.075591   -0.075591
                26.224033  -0.075598   -0.075598
                27.129723  -0.074771   -0.074771
                28.118232  -0.072695   -0.072695
                29.024779  -0.069784   -0.069784
                29.849537  -0.065623   -0.065623
                31.664861  -0.054386   -0.054386
                32.572609  -0.048559   -0.048559
                33.645137  -0.042316   -0.042316
                34.304771  -0.039404   -0.039404
                34.881416  -0.038158   -0.038158
                35.869581  -0.036915   -0.036915
                36.857233  -0.036922   -0.036922
                39.735519  -0.042687   -0.042687
                40.474547  -0.046850   -0.046850
                41.294167  -0.055171   -0.055171
                42.686667  -0.071397   -0.071397
                43.915585  -0.085127   -0.085127
                45.634222  -0.108840   -0.108840
                46.371367  -0.117577   -0.117577
                46.781862  -0.120074   -0.120074
                47.192870  -0.121324   -0.121324
                48.345130  -0.121332   -0.121332
                49.003907  -0.120505   -0.120505
                49.580037  -0.120509   -0.120509
                50.977841  -0.123846   -0.123846
                52.949721  -0.132175   -0.132175
                54.922116  -0.139257   -0.139257
                56.483330  -0.145505   -0.145505
                57.962070  -0.152168   -0.152168
                58.536831  -0.155499   -0.155499
                60.098046  -0.161747   -0.161747
                61.988136  -0.168828   -0.168828
                64.700242  -0.178410   -0.178410
                65.850962  -0.182161   -0.182161
                67.576957  -0.187994   -0.187994
                69.220647  -0.193826   -0.193826
                72.261970  -0.203411   -0.203411
            </tableData>
          </table>
        </product>
     </function>

    <!-- from graph 62a page 79 -->
    <function name="aero/coefficient/Cmelevator">
       <description>Pitch moment due to elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <table>
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <independentVar lookup="column">fcs/elevator-pos-deg</independentVar>
            <tableData>
                         -25.0    -20.0     -10.0      0.0        10.0       20.0
                -10.0     0.21    0.19       0.14      0.0425    -0.045     -0.115
                  0.0     0.2     0.175      0.1       0.0       -0.0875    -0.17
                 10.0     0.165   0.145      0.065    -0.025     -0.12      -0.195
                 20.0     0.145   0.125      0.0425   -0.055     -0.14      -0.2
                 30.0     0.13    0.1        0.02     -0.065     -0.115     -0.16
            </tableData>
         </table>
       </product>
    </function>

    <!-- from graph 66 page 83 -->
    <function name="aero/coefficient/Cmq">
       <description>Pitch damping due to pitch rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-rad_sec</property>
           <table>
              <independentVar>aero/alpha-deg</independentVar>
              <tableData>
                  -60.0   -1.0
                  -45.0   -0.5
                  -20.0   -1.25 
                    7.5   -1.25
                   15.0   -1.0
                   27.5   -1.4
                   47.5   -0.3
                   60.0   -0.8
                   90.0   -0.9
              </tableData>
          </table>
       </product>
    </function>

    <!-- from graph 66 page 83 -->
    <function name="aero/coefficient/Cmadot">
       <description>Pitch damping due to alpha dot rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
<!-- document does not specify unit for alpha-dot. Degree/sec are used for alpha rest of doc, but rad/sec for beta-dot. -->
       <property>aero/alphadot-deg_sec</property>
           <table>
              <independentVar>aero/alpha-deg</independentVar>
              <tableData>
                  -40.0  -0.001 
                  -20.0  -0.45     
                   20.0  -0.45
                   40.0  -0.001
              </tableData>
          </table>
       </product>
    </function>
  </axis>

<!-- ***********************************************************************************
                                                                 YAW
     *********************************************************************************** -->

<!-- ADD: 133,110b  115, 92a   109, 88c-->

    <axis name="YAW">
      <!-- from graph 88b page 109-->
      <function name="aero/coefficient/Cnb">
       <description>
                       Yaw due to beta
       </description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <table>
              <independentVar lookup="row">aero/alpha-deg</independentVar>
              <independentVar lookup="column">fcs/flap-pos-norm</independentVar>
              <tableData><!-- [measured using graph analyser] -->
                                0.0        1.0
                -98.1030     0.137652    0.137652  
                -90.4097     0.137589    0.137589  
                -85.4435     0.136279    0.136279  
                -78.5389     0.134011    0.134011  
                -70.5191     0.130733    0.130733  
                -65.5356     0.128345    0.128345  
                -56.8976     0.120791    0.116
                -48.7737     0.111047    0.053
                -42.5537     0.100107    0.018
                -37.3795     0.0858651   0.010
                -33.9213     0.0758320   0.010
                -30.5759     0.0728034   0.013
                -26.2020     0.0741534   0.019
                -20.7823     0.0788043   0.029
                -15.0449     0.0807782   0.044
                 -8.18359    0.0812038   0.066
                 -2.12832    0.0805007   0.073
                  3.93562    0.0792588   0.070
                  8.67933    0.0746989   0.062
                 12.1115     0.0662822   0.055
                 15.0381     0.0551374   0.047
                 18.2478     0.0434708   0.037
                 21.7667     0.0296660   0.024
                 24.4969     0.0136549   0.009
                 28.7380    -0.0108920  -0.015
                 32.2166    -0.0392617  -0.063
                 34.8804    -0.0682213  -0.142
                 36.2730    -0.0864728  -0.167
                 37.2815    -0.114996   -0.177
                 37.8421    -0.132759   -0.179
                 40.2371    -0.145016   -0.183
                 43.0943    -0.151850   -0.181
                 45.6945    -0.159779   -0.175
                 48.2686    -0.166092   -0.173
                 52.2409    -0.173935   -0.173
                 56.1613    -0.178546   -0.178546  
                 59.7032    -0.176709   -0.176709    
                 62.0692    -0.170090   -0.170090  
                 71.5155    -0.0912984  -0.0912984  
                 73.0928    -0.0868857  -0.0868857  
                 74.7482    -0.0873224  -0.0873224  
                 77.0045    -0.0909579  -0.0909579  
                 79.4833    -0.0913435  -0.0913435  
                112.917     -0.0520548  -0.0520548  
             </tableData>
          </table>
       </product>
    </function>

    <!-- from graph 88b page 109-->
    <function name="aero/coefficient/Cnzero">
       <description>
                       Yaw due asymmetric detachment of vortexes
       </description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <table>
              <independentVar lookup="row">aero/alpha-deg</independentVar>
              <tableData><!-- [measured using graph analyser] -->
                  39.2856     0.0000000
                  44.7312     0.00250495
                  49.3275     0.00710482
                  52.8347     0.0110978
                  55.2007     0.0177167
                  57.8412     0.0243527
                  62.5992     0.0359741
                  65.5488     0.0404718
                  68.5504     0.0417367
                  73.2335     0.0409485
                  76.5442     0.0400751
                  78.2690     0.0353280
                  79.2137     0.0278357
                  80.7247     0.0192998
                  83.0417     0.0118927
                  85.0409     0.00716255
                  87.8634     0.00248349
                  90.1024     0.0000000
              </tableData>
           </table>
       </product>
    </function>

    <!-- from graph 111b page 134 and graph 114b page 137 - TODO: add deviation from beta at 10 deg -->
     <function name="aero/coefficient/Cnp">
        <description>
                        Yawing due to roll speed
        </description>
        <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-rad_sec</property>
           <table>
              <independentVar lookup="row">aero/alpha-deg</independentVar>
              <tableData><!-- [measured using graph analyser] -->
                 -49.986       0.000
                 -46.540       0.022
                 -45.535       0.034
                 -44.636       0.063
                 -41.209       0.177
                 -40.360       0.191
                 -39.208       0.199
                 -37.414       0.206
                 -35.146       0.210
                 -32.578       0.207
                 -29.866       0.199
                 -27.004       0.188
                 -24.303       0.177
                 -22.879       0.169
                 -18.457       0.142
                 -14.198       0.114
                 -9.313        0.081
                 -6.012        0.056
                 -2.706        0.033
                  0.000        0.000
                  6.574       -0.036
                  10.352      -0.063
                  13.822      -0.085
                  18.403      -0.113
                  23.302      -0.142
                  27.105      -0.161
                  30.911      -0.179
                  33.618      -0.189
                  36.027      -0.191
                  38.457      -0.186
                  39.609      -0.179
                  40.455      -0.166
                  40.997      -0.148
                  42.055      -0.119
                  42.766      -0.099
                  43.485      -0.075
                  44.543      -0.047
                  45.248      -0.028
                  46.744      -0.013
                  48.710      -0.003
                  50.497      -0.002
                  52.271      -0.003
                  53.868      -0.001
                  55.294      -0.008
                  59.864      -0.040
              </tableData>
           </table>
        </product>
     </function>
                 
      <!-- from graph 93 page 116 -->
      <function name="aero/coefficient/Cnr">
       <description>
                      Yaw damping due to yaw rate
       </description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-rad_sec</property>
           <table>
             <independentVar lookup="row">aero/alpha-deg</independentVar>
             <tableData>
                -60.0 -0.11
                -15.0 -0.37
                 15.0 -0.37
                 25.0 -0.3
                 35.0 -0.28
                 50.0 -0.17
                 80.0 -0.065
                100.0 -0.05
            </tableData>
          </table>
       </product>
    </function>

    <!-- from graph 93 page 116-->
      <function name="aero/coefficient/Cnbdot">
       <description>
                      Yaw due to beta dot rate
       </description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>aero/betadot-rad_sec</property>
           <table>
              <independentVar lookup="row">aero/alpha-deg</independentVar>
             <tableData>
                -50.0 0.0
                -30.0 0.02
                -20.0 0.015
                 20.0 0.03
                 60.0 0.0
            </tableData>
          </table>
       </product>
    </function>

    <!-- from graph 90 page 113-->
      <function name="aero/coefficient/Cntank">
       <description>
                      Yaw due drop tank
       </description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <table>
              <independentVar lookup="row">aero/beta-deg</independentVar>
              <independentVar lookup="column">inertia/pointmass-weight-lbs[5]</independentVar>
             <tableData>
                         0.0        400.0
               -15.0     0.0         0.01
                 0.0     0.0         0.0
                15.0     0.0        -0.01
            </tableData>
          </table>
       </product>
    </function>

    <!-- from graph 110a page 133 -->
    <function name="aero/coefficient/Cnaileron">
       <description>
                       yaw due to aileron and elevator
       </description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <table>
             <independentVar lookup="row">aero/alpha-deg</independentVar>
             <independentVar lookup="column">fcs/elevator-pos-deg</independentVar>
             <tableData>
                          -25.0     0.0       20.0
                -50.0      0.045    0.055     0.01
                -20.0      0.04     0.055     0.008
                  0.0      0.05     0.055     0.005
                 10.0      0.055    0.0525    0.0
                 20.0      0.07     0.045    -0.01
                 30.0      0.08     0.03     -0.03
                 40.0      0.05     0.01     -0.025
                 70.0      0.045   -0.025    -0.02
                 80.0      0.03    -0.03     -0.02
            </tableData>
          </table>
       </product>
    </function>

    <!-- from graph 92b page 115 -->
    <function name="aero/coefficient/Cnrudder">
       <description>
                       Yaw moment due to rudder
       </description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <table>
              <independentVar lookup="row">aero/alpha-deg</independentVar>
              <independentVar lookup="column">aero/beta-deg</independentVar>
             <tableData>
                   -50.0      -30.0     -20.0     0.0     20.0       30.0    50.0
          -80.0      0.0      -0.005    -0.01    -0.025   -0.01     -0.005    0.0
          -70.0      0.0      -0.005    -0.015   -0.03    -0.015    -0.005    0.0
          -60.0     -0.002    -0.01     -0.02    -0.035   -0.02     -0.01    -0.002
          -50.0     -0.004    -0.0125   -0.0233  -0.04    -0.0233   -0.0125  -0.004
          -40.0     -0.006    -0.015    -0.025   -0.055   -0.025    -0.015   -0.006
          -20.0     -0.01     -0.025    -0.04    -0.075   -0.04     -0.025   -0.01
            0.0     -0.013    -0.033    -0.055   -0.09    -0.055    -0.033   -0.013
           10.0     -0.012    -0.035    -0.055   -0.09    -0.055    -0.035   -0.012
           20.0     -0.01     -0.03     -0.05    -0.085   -0.05     -0.03    -0.01
           30.0     -0.008    -0.02     -0.035   -0.075   -0.035    -0.02    -0.008
           40.0     -0.005    -0.01     -0.02    -0.045   -0.02     -0.01    -0.005
           50.0      0.0      -0.005    -0.005   -0.015   -0.005    -0.005    0.0
           60.0      0.0       0.0       0.0      0.0      0.0       0.0      0.0
            </tableData>
          </table>
       </product>
    </function>        
  </axis>
</aerodynamics>